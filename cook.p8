pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
  game = {}
  run_level()
end

function _update()
  game.update()
end

function _draw()
  game.draw() 
end

function run_level()
  donut = {
    sprite = 0,
    choc = false,
    sprinkles = false,
    pick_version = function(self)
      self.choc = true
      self.order_text = 'with chocolate please'
      return self
    end,
    order_text = ''
  }

  order = make_order(donut)

  game.update = level_update
  game.draw = level_draw
end

function level_update()
  --controls (goes from 0-5)
  -- if btn(0) then do_something() end
end

function level_draw()
  cls()
  rectfill(0,0,127,127,13)
  rectfill(48,48,48 + 32 -1,48 + 32 -1,1) --stage
  -- line(0,63,63,63,0)
  -- line(63,63,63,127,0)
  rectfill(0,104,127,127,15) --order text
  print(order.order_text,1,105,0)

end

function make_order(food)
  return food:pick_version()
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0fffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffff99000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
fffff999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
fffff900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9fffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99ffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
099fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00099999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
